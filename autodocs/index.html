<!DOCTYPE html><html lang="en">
    <head>
    
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
    <meta name="robots" content="noindex,nofollow">

        <title>Autodocs - PCOT Documentation</title>
    
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">
    <link rel="stylesheet" href="../css/lightbox.min.css">
    <link rel="stylesheet" href="../css/site.css">

    

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
    <script src="../js/lightbox-plus-jquery.min.js"></script>
 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container wide">
                <a class="navbar-brand" href="..">PCOT Documentation</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Getting Started <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../gettingstarted/" class="dropdown-item">Overview</a>
</li>
                                    
<li>
    <a href="../gettingstarted/installrun/" class="dropdown-item">Installing and running</a>
</li>
                                    
<li>
    <a href="../gettingstarted/concepts/" class="dropdown-item">PCOT concepts</a>
</li>
                                    
<li>
    <a href="../gettingstarted/tutorial/" class="dropdown-item">Tutorial</a>
</li>
                                    
<li>
    <a href="../gettingstarted/inputs/" class="dropdown-item">Loading other image formats</a>
</li>
                                    
<li>
    <a href="../gettingstarted/help/" class="dropdown-item">Getting help</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">User Guide <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../userguide/" class="dropdown-item">Overview</a>
</li>
                                    
<li>
    <a href="../userguide/principles/" class="dropdown-item">Operating principles</a>
</li>
                                    
<li>
    <a href="../userguide/canvas/" class="dropdown-item">The Canvas</a>
</li>
                                    
<li>
    <a href="../userguide/globalcontrols/" class="dropdown-item">Global Controls</a>
</li>
                                    
<li>
    <a href="../userguide/multifile/" class="dropdown-item">Reading images from multiple files</a>
</li>
                                    
<li>
    <a href="../userguide/expr/" class="dropdown-item">The "expr" node for mathematical expressions</a>
</li>
                                    
<li>
    <a href="../userguide/batch/" class="dropdown-item">Batch mode</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active" aria-current="page">Autodocs</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Developer's Guide <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../devguide/" class="dropdown-item">Overview</a>
</li>
                                    
<li>
    <a href="../devguide/library/" class="dropdown-item">Using PCOT as a library</a>
</li>
                                    
<li>
    <a href="../devguide/plugins/" class="dropdown-item">Writing PCOT plugins</a>
</li>
                                    
<li>
    <a href="../devguide/nodeser/" class="dropdown-item">Node serialisation</a>
</li>
                                </ul>
                            </li>
                            <li class="navitem">
                                <a href="../roadmap/" class="nav-link">Roadmap</a>
                            </li>
                            <li class="navitem">
                                <a href="../gettingstarted/issues/" class="nav-link">Known issues</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../userguide/batch/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../devguide/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container wide">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#autodocs" class="nav-link">Autodocs</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#nodes" class="nav-link">Nodes</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#expr-functions" class="nav-link">Expr functions</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#expr-properties" class="nav-link">Expr properties</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#input-and-output-parameters-for-the-parameter-file-batch-runner" class="nav-link">Input and output parameters for the parameter file (batch) runner</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="autodocs">Autodocs</h1>
<p>Below are automatically generated documents for certain entities
in PCOT. The text in them is extracted from the Python source code,
usually from "docstring" comments to classes or functions.</p>
<p>They are generated by running the <em>generate_autodocs.py</em>
script in the mkdocs directory.</p>
<h2 id="nodes">Nodes</h2>
<p>Nodes are the entities which make up a PCOT document's graph, taking
inputs from various sources and manipulating them in various ways.</p>
<ul>
<li><a href="PCT_Patch_Detection">PCT Patch Detection</a></li>
<li><a href="banddepth">banddepth</a></li>
<li><a href="circle">circle</a></li>
<li><a href="comment">comment</a></li>
<li><a href="constant">constant</a></li>
<li><a href="contrast_stretch">contrast stretch</a></li>
<li><a href="croproi">croproi</a></li>
<li><a href="crosscalib">crosscalib</a></li>
<li><a href="curve">curve</a></li>
<li><a href="decorr_stretch">decorr stretch</a></li>
<li><a href="dqmod">dqmod</a></li>
<li><a href="dummy">dummy</a></li>
<li><a href="edge">edge</a></li>
<li><a href="errortest">errortest</a></li>
<li><a href="example">example</a></li>
<li><a href="expr">expr</a></li>
<li><a href="gen">gen</a></li>
<li><a href="gradient">gradient</a></li>
<li><a href="histequal">histequal</a></li>
<li><a href="histogram">histogram</a></li>
<li><a href="importroi">importroi</a></li>
<li><a href="in">in</a></li>
<li><a href="input_0">input 0</a></li>
<li><a href="input_1">input 1</a></li>
<li><a href="input_2">input 2</a></li>
<li><a href="input_3">input 3</a></li>
<li><a href="inset">inset</a></li>
<li><a href="manual_register">manual register</a></li>
<li><a href="mergetests">mergetests</a></li>
<li><a href="multidot">multidot</a></li>
<li><a href="normimage">normimage</a></li>
<li><a href="offset">offset</a></li>
<li><a href="out">out</a></li>
<li><a href="painted">painted</a></li>
<li><a href="pct">pct</a></li>
<li><a href="pixtest">pixtest</a></li>
<li><a href="poly">poly</a></li>
<li><a href="rect">rect</a></li>
<li><a href="roidq">roidq</a></li>
<li><a href="roiexpr">roiexpr</a></li>
<li><a href="scalartest">scalartest</a></li>
<li><a href="sink">sink</a></li>
<li><a href="spectrum">spectrum</a></li>
<li><a href="stitch">stitch</a></li>
<li><a href="stringtest">stringtest</a></li>
<li><a href="striproi">striproi</a></li>
<li><a href="tvl1_autoreg">tvl1 autoreg</a></li>
</ul>
<h2 id="expr-functions"><em>Expr</em> functions</h2>
<p>Below are functions which can be used in the expression evaluation
node, <a href="expr">expr</a>.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>params</th>
<th>opt. params (default in brackets)</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>abs</td>
<td>a</td>
<td></td>
<td>Calculate absolute value</td>
</tr>
<tr>
<td>addroi</td>
<td>img,r</td>
<td></td>
<td>Add an ROI to an image's ROIs</td>
</tr>
<tr>
<td>clamp</td>
<td>img</td>
<td></td>
<td>clamp all channels of an image to 0-1</td>
</tr>
<tr>
<td>cos</td>
<td>a</td>
<td></td>
<td>Calculate cosine of an angle in radians</td>
</tr>
<tr>
<td>crop</td>
<td>img,x,y,w,h</td>
<td></td>
<td>Crop an image to a rectangle</td>
</tr>
<tr>
<td>curve</td>
<td>img</td>
<td>mul (1),add (0)</td>
<td>impose a sigmoid curve on an image, y=1/(1+e^-(m(x-0.5)+a))) where m and a are parameters. Note from that equation that x is biased, so that x=0.5 is the inflection point if c=0.</td>
</tr>
<tr>
<td>dqset</td>
<td>img,bits</td>
<td></td>
<td>sets DQ bits</td>
</tr>
<tr>
<td>flat</td>
<td>val...</td>
<td></td>
<td>Turns a list of vectors, images and numbers into a single vector, by flattening each into a 1D vector and concatenating them all together. Data with any of the dq.BAD bits is removed.</td>
</tr>
<tr>
<td>fliph</td>
<td>img</td>
<td></td>
<td>Flip an image horizontally</td>
</tr>
<tr>
<td>flipv</td>
<td>img</td>
<td></td>
<td>Flip an image vertically</td>
</tr>
<tr>
<td>grey</td>
<td>img</td>
<td>opencv (0)</td>
<td>Greyscale conversion. If the optional second argument is nonzero, and the image has 3 channels, we'll use CV's conversion equation rather than just the mean. <strong>However, this loses uncertainty information.</strong> Otherwise uncertainty is calculated by adding together the channels in quadrature and then dividing the number of channels.</td>
</tr>
<tr>
<td>interp</td>
<td>img,factor</td>
<td>w (-1)</td>
<td>Using trilinear interpolation, generate an image by interpolating between the bands of an existing image. If an ROI is attached, the image generated will be interpolated from the pixels in the ROI. The width of the image will be either given in an optional parameter, or will be the same as the input image.  WARNING - IS VERY SLOW</td>
</tr>
<tr>
<td>marksat</td>
<td>img</td>
<td>mn (0),mx (1.0)</td>
<td>mark pixels outside a certain range as SAT or ERROR in the DQ bits. Pixels outside any ROI will be ignored, as will any pixels already marked as BAD.</td>
</tr>
<tr>
<td>max</td>
<td>val</td>
<td></td>
<td>Find the maximum of a Datum. For a multiband image, returns a vector of the maximum of each band. For a single band image, a scalar, or a vector, returns a scalar. Pixels with "bad" DQ bits will be ignored.  See also the</td>
</tr>
<tr>
<td>mean</td>
<td>val</td>
<td></td>
<td>Find the mean±sd of a Datum. This does different things depending on what kind of Datum we are dealing with. For a scalar, it just returns the scalar. For a vector, it returns the mean and sd of the vector. For an image, it returns a vector of the means and sds of each channel. Pixels with "bad" DQ bits will be ignored.</td>
</tr>
<tr>
<td>merge</td>
<td>img1...</td>
<td></td>
<td>merge a number of images into multiple bands of a single image. If the image has multiple bands they will all become bands in the new image.</td>
</tr>
<tr>
<td>min</td>
<td>val</td>
<td></td>
<td>Find the minimum of a Datum. For a multiband image, returns a vector of the minimum value of each band. For a single band image, a scalar, or a vector, returns a scalar. Pixels with "bad" DQ bits will be ignored.  See also the &amp; (AND) operator, which will find the minimum of two values (or images, vectors etc).</td>
</tr>
<tr>
<td>nominal</td>
<td>d</td>
<td></td>
<td>If input is an image, create an image made up of the nominal (mean) pixel values for all bands - i.e. an image with no uncertainty; if input is numeric, output the nominal value. Ignores ROIs.</td>
</tr>
<tr>
<td>norm</td>
<td>img</td>
<td>splitchans (0)</td>
<td>normalize all channels of an image to 0-1, operating on all channels combined (the default) or separately</td>
</tr>
<tr>
<td>overlay</td>
<td>img1,img2</td>
<td></td>
<td>Given a pair of images of the same dimensions and band count, replace all pixels in the first image with the second EXCEPT where the second image has the NODATA bit set. This is useful for combining two images where one image has "holes" (e.g. registration).</td>
</tr>
<tr>
<td>resize</td>
<td>img,width,height</td>
<td>method (linear)</td>
<td>Resize an image to a new size using OpenCV's resize function. The method is one of: "nearest", "linear", "cubic", "area", "lanczos4" mapping to the OpenCV constants cv2.INTER_NEAREST, cv2.INTER_LINEAR, cv2.INTER_CUBIC, cv2.INTER_AREA, cv2.INTER_LANCZOS</td>
</tr>
<tr>
<td>rgb</td>
<td>img</td>
<td></td>
<td>create a 3-channel image consisting of the current RGB mapping of the input image. NOTE: changing the mapping on a node does NOT cause the downstream nodes to run - you will have to click "Run All" to make an expr node with rgb() recalculate itself.</td>
</tr>
<tr>
<td>roi</td>
<td>img</td>
<td></td>
<td>Extract a single combined ROI from all ROIs on the image. If no ROIs are present, will return a single rectangular ROI covering the entire image.</td>
</tr>
<tr>
<td>rotate</td>
<td>img,angle</td>
<td></td>
<td>Rotate an image anti-clockwise by an angle in degrees. The angle must be a multiple of 90 degrees.</td>
</tr>
<tr>
<td>sd</td>
<td>val</td>
<td></td>
<td>Find the SD of a Datum. This does different things depending on what kind of Datum we are dealing with. For a scalar, it just returns 0. For a vector or single-channel image, it returns a scalar. For an image, it returns a vector of the SDs of each channel. Because each individual value in the input set can have its own uncertainty, the uncertainty is pooled (the pooled variance is the mean of the variances plus the variance of the means). Pixels with "bad" DQ bits will be ignored.</td>
</tr>
<tr>
<td>setcwl</td>
<td>img,cwl</td>
<td></td>
<td>Given a 1-band image, create a 'fake' filter with a given centre wavelength and assign it. The transmission of the filter is 1.0, and the fwhm is 30. The image itself is unchanged. This is used in testing only.</td>
</tr>
<tr>
<td>sin</td>
<td>a</td>
<td></td>
<td>Calculate sine of an angle in radians</td>
</tr>
<tr>
<td>sqrt</td>
<td>a</td>
<td></td>
<td>Calculate square root</td>
</tr>
<tr>
<td>striproi</td>
<td>img</td>
<td>stripannots (0)</td>
<td>Strip all regions of interest from an image</td>
</tr>
<tr>
<td>sum</td>
<td>val</td>
<td></td>
<td>Find the sum of a Datum. For a multiband image, returns a vector of the sums of each band. For a single band image, a scalar, or a vector, returns a scalar. The uncertainty is pooled differently as this is a sum. The variance will be the variance of the means plus the sum of the variances.  Pixels with "bad" DQ bits will be ignored.</td>
</tr>
<tr>
<td>tan</td>
<td>a</td>
<td></td>
<td>Calculate tangent of an angle in radians</td>
</tr>
<tr>
<td>testf</td>
<td>arg1,arg2</td>
<td></td>
<td>This "docstring" is mandatory in datumfuncs, because it contains the description and argument types.  The function calculates a+2*b, correctly combining sources and propagating uncertainty.</td>
</tr>
<tr>
<td>testf2</td>
<td>a</td>
<td>b (2)</td>
<td>Calculates a+b and a-b, creating a custom object to store that data.</td>
</tr>
<tr>
<td>testimg</td>
<td>index</td>
<td></td>
<td>Load a test image</td>
</tr>
<tr>
<td>uncertainty</td>
<td>d</td>
<td></td>
<td>If input is an image, create an image made up of uncertainty data for all bands; if input is numeric, output the uncertainty. Ignores ROIs.</td>
</tr>
<tr>
<td>v</td>
<td>n,u</td>
<td>dqbits (0)</td>
<td>create a new value with uncertainty by combining two values. These can be either numbers or images. " Ignores and discards ROIs.</td>
</tr>
<tr>
<td>vec</td>
<td>s1...</td>
<td></td>
<td>Create a 1D numeric vector from several scalars or vectors.</td>
</tr>
</tbody>
</table>
<h2 id="expr-properties"><em>Expr</em> properties</h2>
<p>Below are properties which can be used in the expression evaluation
node, <a href="autodocs/expr">expr</a>.
Properties are names which can be used as identifiers on the
right hand side of a "." operator, such as <em>a.w</em> to get the width of an
image <em>a</em>.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type of x</th>
<th>desc</th>
</tr>
</thead>
<tbody>
<tr>
<td>x.w</td>
<td>img</td>
<td>give the width of an image in pixels (if there are ROIs, give the width of the BB of the ROI union)</td>
</tr>
<tr>
<td>x.w</td>
<td>roi</td>
<td>give the width of an ROI in pixels</td>
</tr>
<tr>
<td>x.h</td>
<td>img</td>
<td>give the height of an image in pixels (if there are ROIs, give the width of the BB of the ROI union)</td>
</tr>
<tr>
<td>x.h</td>
<td>roi</td>
<td>give the width of an ROI in pixels</td>
</tr>
<tr>
<td>x.n</td>
<td>img</td>
<td>give the area of an image in pixels (if there are ROIs, give the number of pixels in the ROI union)</td>
</tr>
<tr>
<td>x.n</td>
<td>roi</td>
<td>give the number of pixels in an ROI</td>
</tr>
<tr>
<td>x.n</td>
<td>number</td>
<td>give the number of items in a vector</td>
</tr>
<tr>
<td>x.u</td>
<td>img</td>
<td>return an new image containing the uncertainties of the image's pixels</td>
</tr>
<tr>
<td>x.u</td>
<td>number</td>
<td>return the uncertainty of the scalar or vector (if vector, individual uncertainties will be pooled). DQ is ignored.</td>
</tr>
<tr>
<td>x.bands</td>
<td>img</td>
<td>return a vector of the centre wavelengths of each band in the image</td>
</tr>
</tbody>
</table>
<h2 id="input-and-output-parameters-for-the-parameter-file-batch-runner">Input and output parameters for the parameter file (batch) runner</h2>
<p>Below are links to pages describing parameters for setting the inputs and outputs
in batch files. See <a href="/userguide/batch">batch mode</a> for more details.</p>
<ul>
<li><a href="batchinputs">Input parameters</a></li>
<li><a href="batchoutputs">Output parameters</a></li>
</ul>
<hr />
<p>Automatically generated by generate_autodocs.py</p>
<p>Date: 2025-02-17T16:09:18.986731</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
